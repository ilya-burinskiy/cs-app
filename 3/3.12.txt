void uremdiv(unsigned long x, unsigned long y,
             unsigned long *qp, unsigned long *qp) {
  unsigned long q = x / y;
  unsigned long r = x % y;
  *qp = q;
  *rp = r;
}


x in %rdi, y in %rsi, qp in %rdx, rp in %rcx
uremdiv:
  movq %rdx, %r8     # Copy qp
  movq %rdi, %rdx    # Move x to lower 8 bytes of dividend
  xorl %eax, %eax    # Zeroing %rax
  divq %rsi
  movq %rax, (%r8)   # Store quotient at qp
  movq %rdx, (%rcx)  # Store remainder at rp
  ret
